<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

{{- $pageName := "" -}}
{{- if .IsHome -}}
  <title>{{ .Site.Title }}</title>
  {{- $pageName = .Site.Title -}}
{{- else -}}
  {{- $pageName = .Title -}}
  <title>{{ .Title }} | {{ .Site.Title }}</title>
{{- end -}}

{{- $description := .Description | default .Site.Params.description -}}
{{- $image := printf "%s%s" (.Site.BaseURL | strings.TrimSuffix "/") .Site.Params.image -}}
{{- $url := .Permalink -}}
{{- $contact := .Site.Params.contact -}}

<meta name="description" content="{{ $description }}">
<meta name="robots" content="index, follow">

<meta property="og:url" content="{{ $url }}">
<meta property="og:type" content="website">
<meta property="og:title" content="{{ $pageName }}">
<meta property="og:description" content="{{ $description }}">
<meta property="og:image" content="{{ $image }}">
<meta property="og:locale" content="en_GB">

<meta name="twitter:title" content="{{ $pageName }}">
<meta name="twitter:description" content="{{ $description }}">
<meta name="twitter:image" content="{{ $image }}">

<meta property="fb:app_id" content="1401488693436528">
<meta property="article:author" content="https://www.facebook.com/{{ $contact.facebook }}">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "url": "{{ $url }}",
  "name": "{{ $pageName }}",
  "email": "{{ $contact.email }}",
  "telephone": "{{ $contact.phone }}",
  "contactPoint": {
    "@type": "ContactPoint",
    "telephone": "{{ $contact.phone }}",
    "contactType": "Enquiries",
    "email": "{{ $contact.email }}",
    "areaServed": "Scarborough and surrounding areas"
  }
}
</script>

{{/* Favicons - Generated with: https://realfavicongenerator.net/ */}}
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#09090a">
<meta name="theme-color" content="#09090a">

{{/* Preload logo to prevent flicker during navigation */}}
{{ $logo := resources.Get "images/Logo.png" }}
{{ if $logo }}
{{ $logo1x := $logo.Resize "40x40 Webp" }}
{{ $logo2x := $logo.Resize "80x80 Webp" }}
<link rel="preload" as="image" href="{{ $logo1x.RelPermalink }}" imagesrcset="{{ $logo1x.RelPermalink }} 1x, {{ $logo2x.RelPermalink }} 2x">
{{ end }}

{{/* Preload about-me gallery main image to improve LCP */}}
{{ if eq .RelPermalink "/about-me/" }}
  {{ $vanImg := resources.Get "images/vans/2022 Transit.jpg" }}
  {{ if $vanImg }}
    {{ $v800  := $vanImg.Resize "800x  Webp q85" }}
    {{ $v1600 := $vanImg.Resize "1600x Webp q85" }}
    <link rel="preload" as="image" imagesrcset="{{ $v800.RelPermalink }} 800w, {{ $v1600.RelPermalink }} 1600w" imagesizes="(min-width: 600px) 50vw, 100vw">
  {{ end }}
{{ end }}

{{/* Preload hero image to improve LCP */}}
{{ if .IsHome }}
  {{ $heroImg := resources.Get "images/Hero.jpg" }}
  {{ if $heroImg }}
    {{ $hSm  := $heroImg.Resize "x900  Webp q95" }}
    {{ $hMd  := $heroImg.Resize "x1200 Webp q95" }}
    {{ $hLg  := $heroImg.Resize "x1600 Webp q95" }}
    <link rel="preload" as="image" imagesrcset="{{ $hSm.RelPermalink }} {{ $hSm.Width }}w, {{ $hMd.RelPermalink }} {{ $hMd.Width }}w, {{ $hLg.RelPermalink }} {{ $hLg.Width }}w" imagesizes="100vw">
  {{ end }}
{{ else }}
  {{ $heroImg := resources.Get "images/Beading.jpg" }}
  {{ if $heroImg }}
    {{ $h768  := $heroImg.Resize "768x  Webp q80" }}
    {{ $h1200 := $heroImg.Resize "1200x Webp q80" }}
    {{ $h1920 := $heroImg.Resize "1920x Webp q80" }}
    {{ $h2400 := $heroImg.Resize "2400x Webp q80" }}
    <link rel="preload" as="image" imagesrcset="{{ $h768.RelPermalink }} 768w, {{ $h1200.RelPermalink }} 1200w, {{ $h1920.RelPermalink }} 1920w, {{ $h2400.RelPermalink }} 2400w" imagesizes="100vw">
  {{ end }}
{{ end }}

{{/* Styles */}}
{{ $style := resources.Get "scss/main.scss" | toCSS | minify | fingerprint }}
<link rel="stylesheet" href="{{ $style.RelPermalink }}">
